{%extends 'aindex.html'%}
{% block body %}

    <body>
    <center>
    <h1 align="center">Artificial Insemination Reports</h1>
    <br>

            <form method="post" class="search-form">
           <table class="table table-bordered table-hover table-striped">
               <tr>
                   <td>
                       <label for="start_date">Start Date:</label>
                   </td>
                   <td>
                        <input type="date" id="start_date" name="start_date"  class="form-control">
                   </td>
                   <td>
                       <label for="end_date">End Date:</label>
                   </td>
                   <td>
                        <input type="date" id="end_date" class="form-control" name="end_date">
                   </td>
                    <td>
                     <input type="text" class="form-control" placeholder="Search for details" name="vals">
                 </td>
                   <td>
                        <button class="btn btn-primary" type="submit">Search</button>
                   </td>
                   <td>
                       <button type="button" class="btn btn-info" onclick="printDiv()">PRINT</button>
                   </td>
               </tr>



           </table>
        </form>

<script>
    function printDiv() {
      var divContents = document.getElementById("div_print").innerHTML;
      var a = window.open('', '', 'height=500, width=500');
      a.document.write(divContents);
      a.document.close();
      a.print();
    }
  </script>

<div id="div_print" class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column ">
    <br>

         <table class="table table-bordered table-hover table-striped">
            <tr>
                <th>Index</th>
                <th>Farmer Name</th>
                <th> Email</th>
                <th>Prefered Date of insemination</th>
                <th>Nearby Veterinary Hospital</th>
                <th>Is inseminated Before</th>
                <th>Is first insemination</th>
                <th>No :of inseminations</th>
                <th>Status</th>

            </tr>

            {% for i in key %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{i.farmerai.farmer_first_name}}</td>
                <td>{{i.farmerai.farmer_email}}
                <td>{{i.prefered_date}}</td>
                <td>{{i.near_veterinary_hospital}}</td>
                <td>{{i.inseminated_before}}</td>
                <td>{{i.is_first_insemination}}</td>
                <td>{{i.no_of_inseminations}}</td>
                
                <td>{{ i.ai_status }}
                </td>

            </tr>
            {% endfor %}
         <tr style="height:50px;">
        <td colspan="9" align="center"><h3>Total No of Artificial Insemination requests    :
            {{ total }}</h3></td></tr>

         </table>
</div>
    </body>

{% endblock  %}