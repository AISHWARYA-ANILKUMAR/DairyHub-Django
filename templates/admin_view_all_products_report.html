{%extends 'aindex.html'%}
{% block body %}


    <body><h1 align="center" >Product Report</h1>
        <form method="post" class="search-form">
            <table class="table table-bordered table-hover table-striped">
                <tr>

                <td>
                        <input type="text" class="form-control"  placeholder="Search for details" name="vals">
                    </td>
                        <td>                            <button class="btn btn-primary" type="submit">Search</button></td>
                            <td ><button type="button" class="btn btn-info" onclick="printDiv()">PRINT</button></td>

                </tr>
            </table>
        </form>
<script>
    function printDiv() {
      var divContents = document.getElementById("div_print").innerHTML;
      var a = window.open('', '', 'height=500, width=500');
      a.document.write(divContents);
      a.document.close();
      a.print();
    }
  </script>
<div id="div_print" class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column ">
       <table class="table table-bordered table-hover table-striped">
            <tr>
               <td>Sl No</td>
                <th>Product Name</th>
        <th>Product Image</th>
        <th>Product Price</th>
                <th>Quantity</th>
                <th>Total</th>
            </tr>

            {% for i in data %}
            <tr><td>{{forloop.counter}}</td>

            <td>{{i.product_name}}</td>
            <td><img src="{{i.product_image}}" width="100px" height="100px"></td>
            <td>{{i.product_price}}</td>
            <td>{{i.qty}}</td>
            <td>{{i.total}}</td>
            </tr>
            {% endfor %}
        <tr>
            <td colspan="6" align="center">
<h3>
              Total :  {{ total }}Rs</h3>
            </td>
        </tr>
        </table>
</div>
{% endblock %}